"0","# Load libraries"
"0","library(tidyverse)"
"0","library(reshape2)  # for melting data"
"0","library(ggplot2)"
"0",""
"0","# Example: your species_effects data frame"
"0","# species_effects <- <your table>"
"0","# Make species a column instead of row names"
"0","ranef_species$Species <- rownames(ranef_species)"
"0",""
"0","# Remove intercept for heatmap (we only care about traits)"
"0","traits_only <- ranef_species %>%"
"0","  select(Species, z_DBH:z_LDMC)"
"0",""
"0","# Melt into long format for ggplot"
"0","traits_long <- melt(traits_only, id.vars = ""Species"","
"0","                    variable.name = ""Trait"","
"0","                    value.name = ""Effect"")"
"0",""
"0","# Make heatmap"
"0","ggplot(traits_long, aes(x = Trait, y = Species, fill = Effect)) +"
"0","  geom_tile(color = ""white"") +"
"0","  scale_fill_gradient2(low = ""blue"", mid = ""white"", high = ""red"", midpoint = 0) +"
"0","  theme_minimal() +"
"0","  labs(title = ""Species-specific Trait Effects on Trend"","
"0","       x = ""Trait"", y = ""Species"") +"
"0","  theme(axis.text.x = element_text(angle = 45, hjust = 1))"
